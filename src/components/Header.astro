---
import Logo from "./Logo.astro";

---

<header id="header" class="fixed top-0 items-center flex w-full h-[100px] gap-x-[33px] z-40 text-white transition-opacity ease-linear duration-[0.9s]">
    <div id="headerIz" class="flex items-center mr-[19rem] ml-[19rem] gap-x-[2rem]">

        <div class="flex flex-grow basis-0">
            <Logo/>
        </div>
        
        <nav>
            <ul class="
            flex gap-x-7
            text-[14px] 
            [&>li>a]:font-bold 
            [&>li>a]:inline-block
            [&>li>a]:pt-2.5 
            [&>li>a]:relative">
                <li><a class="after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">FALCON 9</a></li>
                <li><a class="after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">FALCON HEAVY</a></li>
                <li><a class="after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">DRAGON</a></li>
                <li><a class="after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">STARSHIP</a></li>
                <li><a class="after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">HUMAN SPACEFLIGHT</a></li>
                <li><a class="after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">RIDESHARE</a></li>
                <li><a class="after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">STARSHIELD</a></li>
                <li><a class="after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0 after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">STARLINK</a></li>
            </ul>
        </nav>
    </div>

    <div id="headerDer" class="flex gap-x-[25px] pt-2.5">
        <a class="text-[14px] font-bold relative inline-block after:content-[' '] after:absolute after:w-full after:h-[1px] after:bottom-0  after:left-0 after:bg-white after:scale-x-0 after:origin-bottom-right after:transition-transform after:duration-[0.6s] after:ease-out hover:after:scale-100 hover:after:origin-bottom-left" href="#">SHOP</a>
        <button>
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="19" height="19" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M4 6l16 0"></path>
                <path d="M4 12l16 0"></path>
                <path d="M4 18l16 0"></path>
            </svg>
        </button>
    </div>
    
</header>

<script>
    const $header = document.getElementById("header")
    const $section = document.querySelectorAll(".landing-section")

    const options = {
        root: null,
        rootMargin: "0px",
        threshold: 0.5
    }

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            const intersecting = entry.isIntersecting
                $header.style.visibility = intersecting ? "hidden" : "visible"
                $header.style.opacity = intersecting ? "0" : "100"
            
        })
    }, options)

    $section.forEach(element => {
        observer.observe(element);
    });

</script>